{"ast":null,"code":"import _slicedToArray from \"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\lyricfinder\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"A:\\\\online_kaam\\\\1LearningResource\\\\React Practice\\\\lyricfinder\\\\src\\\\context.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport const Context = React.createContext(); // const reducer = (state, action) => {\n//   switch (action.type) {\n//     case 'SEARCH_TRACKS':\n//       return {\n//         ...state,\n//         track_list: action.payload,\n//         heading: 'Search Results'\n//       };\n//     default:\n//       return state;\n//   }\n// };\n\nexport function ContextController({\n  children\n}) {\n  let intialState = {\n    track_list: [],\n    heading: \"\" // dispatch: action => this.setState(state => reducer(state, action))\n\n  };\n\n  const _useState = useState(intialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  useEffect(() => {\n    axios.get(\"https://cors-anywhere.herokuapp.com/http://api.musixmatch.com/ws/1.1/chart.tracks.get?page=1&page_size=10&country=us&f_has_lyrics=1&apikey=\".concat(process.env.REACT_APP_MM_KEY)).then(res => {\n      console.log(res.data);\n      setState({\n        track_list: res.data.message.body.track_list,\n        heading: \"Top 10 Tracks\"\n      });\n    }).catch(err => console.log(err));\n  }, []);\n  return React.createElement(Context.Provider, {\n    value: [state, setState],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, children);\n}","map":{"version":3,"sources":["A:\\online_kaam\\1LearningResource\\React Practice\\lyricfinder\\src\\context.js"],"names":["React","useState","useEffect","axios","Context","createContext","ContextController","children","intialState","track_list","heading","state","setState","get","process","env","REACT_APP_MM_KEY","then","res","console","log","data","message","body","catch","err"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAGJ,KAAK,CAACK,aAAN,EAAhB,C,CAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,iBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAAyC;AAC9C,MAAIC,WAAW,GAAG;AAChBC,IAAAA,UAAU,EAAE,EADI;AAEhBC,IAAAA,OAAO,EAAE,EAFO,CAGhB;;AAHgB,GAAlB;;AAD8C,oBAOpBT,QAAQ,CAACO,WAAD,CAPY;AAAA;AAAA,QAOvCG,KAPuC;AAAA,QAOhCC,QAPgC;;AAS9CV,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CACFU,GADH,sJAEkJC,OAAO,CAACC,GAAR,CAAYC,gBAF9J,GAIGC,IAJH,CAIQC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAT,MAAAA,QAAQ,CAAC;AACPH,QAAAA,UAAU,EAAES,GAAG,CAACG,IAAJ,CAASC,OAAT,CAAiBC,IAAjB,CAAsBd,UAD3B;AAEPC,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAID,KAVH,EAWGc,KAXH,CAWSC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAXhB;AAYD,GAbQ,EAaN,EAbM,CAAT;AAeA,SACE,oBAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAE,CAACd,KAAD,EAAQC,QAAR,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6CL,QAA7C,CADF;AAGD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport const Context = React.createContext();\n\n// const reducer = (state, action) => {\n//   switch (action.type) {\n//     case 'SEARCH_TRACKS':\n//       return {\n//         ...state,\n//         track_list: action.payload,\n//         heading: 'Search Results'\n//       };\n//     default:\n//       return state;\n//   }\n// };\n\nexport function ContextController({ children }) {\n  let intialState = {\n    track_list: [],\n    heading: \"\"\n    // dispatch: action => this.setState(state => reducer(state, action))\n  };\n\n  const [state, setState] = useState(intialState);\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://cors-anywhere.herokuapp.com/http://api.musixmatch.com/ws/1.1/chart.tracks.get?page=1&page_size=10&country=us&f_has_lyrics=1&apikey=${process.env.REACT_APP_MM_KEY}`\n      )\n      .then(res => {\n        console.log(res.data);\n        setState({\n          track_list: res.data.message.body.track_list,\n          heading: \"Top 10 Tracks\"\n        });\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  return (\n    <Context.Provider value={[state, setState]}>{children}</Context.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}